head
  title books
  meta(name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1')

body

template(name='layout')  
  header
    +navbar
  #banner.hero-unit
    .container
      h1
        i.fa.fa-book books
      p.lead a Basejump for freeCodeCamp
  {{> Template.dynamic template=content}}
  footer.footer
    .container
      img(src='/jp.svg' alt='JP' width='32')
      p 
        i.fa.fa-book books
        | - &copy; 2015 - Jan Pilgenr√∂der

template(name='navbar')
  nav.navbar.navbar-default.navbar-fixed-top
    .container-fluid
      .navbar-header
        a.navbar-brand(href='/') books
        button.navbar-toggle.collapsed(type=button data-toggle="collapse" data-target=".navbar-collapse")
          span.sr-only Toggle navigation
          span.icon-bar
          span.icon-bar
      div.navbar-collapse.collapse
        ul.nav.navbar-nav
          li
            a(href='/all-books') browse
        ul.nav.navbar-nav.navbar-right
          if currentUser
            li
              a(href='/my-books') my books
          +loginButtons

template(name='books')
  .container-fluid
    .row
      .col-lg-12
        h1.page-header books:
          +afModal(class="btn btn-default pull-right" collection="Books" operation="insert")
            i.fa.fa-plus
            | &nbsp; add book
        +autoformModals
        div
          each books
            +bookDisplay

template(name='bookDisplay')
  .col-lg-3.col-md-4.col-sm-6
    .panel.card(class=panelClass)
      .panel-heading
        h3 #{title}
      .panel-body
        h4 by #{author}
        if requested
          p requested by: #{requestedBy}
        else
          p available
      .panel-footer
        button.btn.btn-default.request-button(disabled=mayNotRequest)
          i.fa.fa-hand-pointer-o
          | request

template(name='about')
  .container
    .row
      .col-md-6
        h1.page-header about books:
        if currentUser
          p.
            Hello #{currentUser.username}, since you are logged in you have access to all features of this web-app. You can list books that you own and would like to share with other users, and you can request to borrow books, that other users have listed.
        else
          p.
            Hello, books is all about sharing the books you love with other users. You can browse all the books, that other users have listed. Once you are logged in, you can click on a book, to ask it's owner to share it with you, and you can share your own books with other users this way.
        div
          p.
            This website is a practice assignment for freeCodeCamp. As such it is not really meant to be usefull to anyone. Since it's a work in progress it may or may not work on any given day.

          p.
            You can take a look at the sources and post comments#[a(href='http://github.com/JanMP/books') on gitHub]